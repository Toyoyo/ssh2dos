<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Watt-32 tcp/ip: /home/fosco/src/SSH2DOS/watt32/src/pcpkt.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Watt-32 tcp/ip
   &#160;<span id="projectnumber">2.2 dev-rel.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('pcpkt_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pcpkt.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="pcpkt_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae59582c79e07069b97b769e7cac9c182"><td class="memItemLeft" align="right" valign="top"><a id="ae59582c79e07069b97b769e7cac9c182"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>get_init_stats</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:ae59582c79e07069b97b769e7cac9c182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc87fa3e2fb1151d42907444ae00fb73"><td class="memItemLeft" align="right" valign="top"><a id="abc87fa3e2fb1151d42907444ae00fb73"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#abc87fa3e2fb1151d42907444ae00fb73">pkt_release_handle</a> (WORD handle)</td></tr>
<tr class="memdesc:abc87fa3e2fb1151d42907444ae00fb73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the allocated protocol handle. <br /></td></tr>
<tr class="separator:abc87fa3e2fb1151d42907444ae00fb73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e3acc23bfa794ad3125f92ead40821"><td class="memItemLeft" align="right" valign="top"><a id="aa0e3acc23bfa794ad3125f92ead40821"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#aa0e3acc23bfa794ad3125f92ead40821">pkt_reset_handle</a> (WORD handle)</td></tr>
<tr class="memdesc:aa0e3acc23bfa794ad3125f92ead40821"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the driver-state associated with handle. <br /></td></tr>
<tr class="separator:aa0e3acc23bfa794ad3125f92ead40821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d130dbf7052b6ab4fdab578e74e48c1"><td class="memItemLeft" align="right" valign="top"><a id="a7d130dbf7052b6ab4fdab578e74e48c1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>void</b> (__cdecl _far *pkt_enque_ptr)(BYTE _far *buf</td></tr>
<tr class="separator:a7d130dbf7052b6ab4fdab578e74e48c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a9669d54ce65e113a4578ac1de7c10"><td class="memItemLeft" align="right" valign="top"><a id="a84a9669d54ce65e113a4578ac1de7c10"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>setup_rmode_callback</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:a84a9669d54ce65e113a4578ac1de7c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56fc103763cc7d01af64037d3db1d56"><td class="memItemLeft" align="right" valign="top"><a id="aa56fc103763cc7d01af64037d3db1d56"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>lock_code_and_data</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:aa56fc103763cc7d01af64037d3db1d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10042c1bc874280524977f7c4ad49e3c"><td class="memItemLeft" align="right" valign="top"><a id="a10042c1bc874280524977f7c4ad49e3c"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>unlock_code_and_data</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:a10042c1bc874280524977f7c4ad49e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca377d5b2f4abc9cdbd6c91da692cab"><td class="memItemLeft" align="right" valign="top"><a id="acca377d5b2f4abc9cdbd6c91da692cab"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>find_vector</b> (int first, int num)</td></tr>
<tr class="separator:acca377d5b2f4abc9cdbd6c91da692cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9bd7fa7e6b9f7b772b205a8e6dce96b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#af9bd7fa7e6b9f7b772b205a8e6dce96b">setup_pkt_inf</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:af9bd7fa7e6b9f7b772b205a8e6dce96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7fb30f982148679bfac291287e0d1f8"><td class="memItemLeft" align="right" valign="top"><a id="ae7fb30f982148679bfac291287e0d1f8"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#ae7fb30f982148679bfac291287e0d1f8">get_rmode_data</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *dest, unsigned size, WORD seg, WORD ofs)</td></tr>
<tr class="memdesc:ae7fb30f982148679bfac291287e0d1f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return PKTDRVR data at seg:ofs, Copy to 'dest'. <br /></td></tr>
<tr class="separator:ae7fb30f982148679bfac291287e0d1f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad635d7372ef69250f6dc7791030791ec"><td class="memItemLeft" align="right" valign="top">static BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#ad635d7372ef69250f6dc7791030791ec">pkt_api_entry</a> (<a class="el" href="struct_i_r_e_g_s.html">IREGS</a> *reg, unsigned line)</td></tr>
<tr class="memdesc:ad635d7372ef69250f6dc7791030791ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">The API entry to the network link-driver.  <a href="#ad635d7372ef69250f6dc7791030791ec">More...</a><br /></td></tr>
<tr class="separator:ad635d7372ef69250f6dc7791030791ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03a03330927f665d06a1b3079aa448b3"><td class="memItemLeft" align="right" valign="top"><a id="a03a03330927f665d06a1b3079aa448b3"></a>
const char *W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a03a03330927f665d06a1b3079aa448b3">pkt_strerror</a> (int <a class="el" href="structcode.html">code</a>)</td></tr>
<tr class="memdesc:a03a03330927f665d06a1b3079aa448b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return textual error representing error-code. <br /></td></tr>
<tr class="separator:a03a03330927f665d06a1b3079aa448b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985e4e9ef56f5cf69f4a0ae81645b879"><td class="memItemLeft" align="right" valign="top"><a id="a985e4e9ef56f5cf69f4a0ae81645b879"></a>
BOOL W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_is_init</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:a985e4e9ef56f5cf69f4a0ae81645b879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad085ed77fa2a203f96bb9f266334ca4d"><td class="memItemLeft" align="right" valign="top"><a id="ad085ed77fa2a203f96bb9f266334ca4d"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>dump_asm4</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:ad085ed77fa2a203f96bb9f266334ca4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7db5269ae1084637b03271f847f53e0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a7db5269ae1084637b03271f847f53e0b">pkt_tx_buf</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:a7db5269ae1084637b03271f847f53e0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return address of DOS memory Tx-buffer.  <a href="#a7db5269ae1084637b03271f847f53e0b">More...</a><br /></td></tr>
<tr class="separator:a7db5269ae1084637b03271f847f53e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ea86d10eed43822e1b30e54abad211"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a32ea86d10eed43822e1b30e54abad211">pkt_set_access</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:a32ea86d10eed43822e1b30e54abad211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the receiver upcall handler.  <a href="#a32ea86d10eed43822e1b30e54abad211">More...</a><br /></td></tr>
<tr class="separator:a32ea86d10eed43822e1b30e54abad211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89063c5ce622c72fa04ad97445ae2e47"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a89063c5ce622c72fa04ad97445ae2e47">pkt_drvr_info</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:a89063c5ce622c72fa04ad97445ae2e47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the PKTDRVR information.  <a href="#a89063c5ce622c72fa04ad97445ae2e47">More...</a><br /></td></tr>
<tr class="separator:a89063c5ce622c72fa04ad97445ae2e47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d9e9e7e0ffd117dddd89b5b4b73b12"><td class="memItemLeft" align="right" valign="top"><a id="a23d9e9e7e0ffd117dddd89b5b4b73b12"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a23d9e9e7e0ffd117dddd89b5b4b73b12">pkt_get_params</a> (struct <a class="el" href="struct_pkt_parameters.html">PktParameters</a> *params)</td></tr>
<tr class="memdesc:a23d9e9e7e0ffd117dddd89b5b4b73b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get PKTDRVR parameters (MTU, version etc.) <br /></td></tr>
<tr class="separator:a23d9e9e7e0ffd117dddd89b5b4b73b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fdbc251383a566d31a5df2641acd7fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a4fdbc251383a566d31a5df2641acd7fa">pkt_get_mtu</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:a4fdbc251383a566d31a5df2641acd7fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return PKTDRVR maximum-transmit-units (MTU).  <a href="#a4fdbc251383a566d31a5df2641acd7fa">More...</a><br /></td></tr>
<tr class="separator:a4fdbc251383a566d31a5df2641acd7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac34e15b262a2bda8bb3586b3dd6be692"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#ac34e15b262a2bda8bb3586b3dd6be692">pkt_get_mac_len</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:ac34e15b262a2bda8bb3586b3dd6be692"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return length of MAC address.  <a href="#ac34e15b262a2bda8bb3586b3dd6be692">More...</a><br /></td></tr>
<tr class="separator:ac34e15b262a2bda8bb3586b3dd6be692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4876f52cbab01e6bcc22968d6dee4102"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a4876f52cbab01e6bcc22968d6dee4102">pkt_get_api_ver</a> (WORD *ver)</td></tr>
<tr class="memdesc:a4876f52cbab01e6bcc22968d6dee4102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return version of spec.  <a href="#a4876f52cbab01e6bcc22968d6dee4102">More...</a><br /></td></tr>
<tr class="separator:a4876f52cbab01e6bcc22968d6dee4102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c9bb4d29ad5c7afc5aea8b008b5637"><td class="memItemLeft" align="right" valign="top"><a id="a44c9bb4d29ad5c7afc5aea8b008b5637"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a44c9bb4d29ad5c7afc5aea8b008b5637">pkt_get_drvr_ver</a> (WORD *major, WORD *minor, WORD *unused1, WORD *unused2)</td></tr>
<tr class="memdesc:a44c9bb4d29ad5c7afc5aea8b008b5637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return version of PKTDRVR. <br /></td></tr>
<tr class="separator:a44c9bb4d29ad5c7afc5aea8b008b5637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571514b368e9c69244a7878a6b701a8f"><td class="memItemLeft" align="right" valign="top"><a id="a571514b368e9c69244a7878a6b701a8f"></a>
W32_FUNC int W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a571514b368e9c69244a7878a6b701a8f">pkt_get_vector</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:a571514b368e9c69244a7878a6b701a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return PKTDRVR vector. <br /></td></tr>
<tr class="separator:a571514b368e9c69244a7878a6b701a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace06193dccca2a043603d245702aff9e"><td class="memItemLeft" align="right" valign="top"><a id="ace06193dccca2a043603d245702aff9e"></a>
W32_FUNC WORD W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_get_drvr_class</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:ace06193dccca2a043603d245702aff9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c7b153ea2441c4b277c770cb81eafc"><td class="memItemLeft" align="right" valign="top"><a id="a36c7b153ea2441c4b277c770cb81eafc"></a>
const char *W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_get_device_name</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:a36c7b153ea2441c4b277c770cb81eafc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027ed4917a199fbe8798c45ab4459c44"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a027ed4917a199fbe8798c45ab4459c44">pkt16_drvr_init</a> (mac_address *mac_addr)</td></tr>
<tr class="memdesc:a027ed4917a199fbe8798c45ab4459c44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called from <a class="el" href="pcpkt_8c.html#a94e49015b8a91c6612f51058a9bdad20" title="Initialise Packet driver interface. ">pkt_eth_init()</a> to search for PKTDRVR.  <a href="#a027ed4917a199fbe8798c45ab4459c44">More...</a><br /></td></tr>
<tr class="separator:a027ed4917a199fbe8798c45ab4459c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f580cfab173c30d6e26b59729c590a"><td class="memItemLeft" align="right" valign="top"><a id="a58f580cfab173c30d6e26b59729c590a"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>release_callback</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:a58f580cfab173c30d6e26b59729c590a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab707d58c59de5f67ad38486a700f1c27"><td class="memItemLeft" align="right" valign="top"><a id="ab707d58c59de5f67ad38486a700f1c27"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#ab707d58c59de5f67ad38486a700f1c27">release_real_mem</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:ab707d58c59de5f67ad38486a700f1c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release allocated DOS memory. <br /></td></tr>
<tr class="separator:ab707d58c59de5f67ad38486a700f1c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd0ecaa4212228407bb1df603cf0a2c"><td class="memItemLeft" align="right" valign="top">int DTOR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a7cd0ecaa4212228407bb1df603cf0a2c">pkt_release</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:a7cd0ecaa4212228407bb1df603cf0a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c91cdcff38f150988c22ba66ebb573"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a87c91cdcff38f150988c22ba66ebb573">pkt_enqueue</a> (unsigned rxBuf, WORD rxLen) static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> __cdecl _far pkt_enqueue(BYTE _far *rxBuf</td></tr>
<tr class="memdesc:a87c91cdcff38f150988c22ba66ebb573"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue a received packet into '_pkt_inf-&gt;pkt_queue'.  <a href="#a87c91cdcff38f150988c22ba66ebb573">More...</a><br /></td></tr>
<tr class="separator:a87c91cdcff38f150988c22ba66ebb573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3495f54b8bb134634a39d8b7dfe7b134"><td class="memItemLeft" align="right" valign="top"><a id="a3495f54b8bb134634a39d8b7dfe7b134"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (index &gt;=q-&gt;num_buf) index=0</td></tr>
<tr class="separator:a3495f54b8bb134634a39d8b7dfe7b134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38d587f99fadf47aba255de4ffc0e80"><td class="memItemLeft" align="right" valign="top"><a id="af38d587f99fadf47aba255de4ffc0e80"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (index !=q-&gt;out_index)</td></tr>
<tr class="separator:af38d587f99fadf47aba255de4ffc0e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e0b7ba811bdae333ee046a40d248d1e"><td class="memItemLeft" align="right" valign="top"><a id="a4e0b7ba811bdae333ee046a40d248d1e"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> cdecl&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_receiver_pm</b> (<a class="el" href="struct_s_w_i___r_e_g_s.html">SWI_REGS</a> *r)</td></tr>
<tr class="separator:a4e0b7ba811bdae333ee046a40d248d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3da89ac83c4657616d5e7b82cac5bf5"><td class="memItemLeft" align="right" valign="top"><a id="ab3da89ac83c4657616d5e7b82cac5bf5"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> cdecl&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_receiver_pm</b> (__dpmi_regs *r)</td></tr>
<tr class="separator:ab3da89ac83c4657616d5e7b82cac5bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbe9ce713cdbf41ae8d859e965849c49"><td class="memItemLeft" align="right" valign="top"><a id="adbe9ce713cdbf41ae8d859e965849c49"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> cdecl&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_receiver_pm</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:adbe9ce713cdbf41ae8d859e965849c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232da8abc1db4fd87a304496b7b8cd9f"><td class="memItemLeft" align="right" valign="top"><a id="a232da8abc1db4fd87a304496b7b8cd9f"></a>
<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_pkt_end</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:a232da8abc1db4fd87a304496b7b8cd9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee3a74c34a638cd37f598e432e1bb50"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#aeee3a74c34a638cd37f598e432e1bb50">pkt_send</a> (const <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *tx, int length)</td></tr>
<tr class="memdesc:aeee3a74c34a638cd37f598e432e1bb50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a link-layer frame.  <a href="#aeee3a74c34a638cd37f598e432e1bb50">More...</a><br /></td></tr>
<tr class="separator:aeee3a74c34a638cd37f598e432e1bb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae866a9ae4fffbe6e59c0895e505114e7"><td class="memItemLeft" align="right" valign="top"><a id="ae866a9ae4fffbe6e59c0895e505114e7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#ae866a9ae4fffbe6e59c0895e505114e7">pkt_get_addr</a> (mac_address *mac)</td></tr>
<tr class="memdesc:ae866a9ae4fffbe6e59c0895e505114e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the MAC address. <br /></td></tr>
<tr class="separator:ae866a9ae4fffbe6e59c0895e505114e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad984c2265fabad56f2bf53831f2b3430"><td class="memItemLeft" align="right" valign="top"><a id="ad984c2265fabad56f2bf53831f2b3430"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#ad984c2265fabad56f2bf53831f2b3430">pkt_set_addr</a> (const <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *addr)</td></tr>
<tr class="memdesc:ad984c2265fabad56f2bf53831f2b3430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a new MAC source address. <br /></td></tr>
<tr class="separator:ad984c2265fabad56f2bf53831f2b3430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa56767d6d21cbc623466124ebf687dcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#aa56767d6d21cbc623466124ebf687dcf">pkt_get_stats</a> (struct <a class="el" href="struct_pkt_stats.html">PktStats</a> *stats, struct <a class="el" href="struct_pkt_stats.html">PktStats</a> *total)</td></tr>
<tr class="memdesc:aa56767d6d21cbc623466124ebf687dcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get PKTDRVR statistics.  <a href="#aa56767d6d21cbc623466124ebf687dcf">More...</a><br /></td></tr>
<tr class="separator:aa56767d6d21cbc623466124ebf687dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1947c8893efebf47422e5122a0974e6c"><td class="memItemLeft" align="right" valign="top"><a id="a1947c8893efebf47422e5122a0974e6c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_get_vjstats</b> (struct <a class="el" href="structslcompress.html">slcompress</a> *vjstats)</td></tr>
<tr class="separator:a1947c8893efebf47422e5122a0974e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03f11a571259f6bb9006b01c3ccdf7d"><td class="memItemLeft" align="right" valign="top"><a id="ab03f11a571259f6bb9006b01c3ccdf7d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_get_cstate</b> (struct <a class="el" href="structcstate.html">cstate</a> *cs, WORD cstate_ofs)</td></tr>
<tr class="separator:ab03f11a571259f6bb9006b01c3ccdf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a126c3e531b042796c11559547b581ace"><td class="memItemLeft" align="right" valign="top"><a id="a126c3e531b042796c11559547b581ace"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a126c3e531b042796c11559547b581ace">pkt_buf_wipe</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:a126c3e531b042796c11559547b581ace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the receive queue. <br /></td></tr>
<tr class="separator:a126c3e531b042796c11559547b581ace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e84613a10a08dba2a17a27332685ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a66e84613a10a08dba2a17a27332685ca">pkt_free_pkt</a> (const <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *pkt)</td></tr>
<tr class="memdesc:a66e84613a10a08dba2a17a27332685ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a packet from the receive queue.  <a href="#a66e84613a10a08dba2a17a27332685ca">More...</a><br /></td></tr>
<tr class="separator:a66e84613a10a08dba2a17a27332685ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab63634d32cd96a8e8d4ee30862a9f1e1"><td class="memItemLeft" align="right" valign="top"><a id="ab63634d32cd96a8e8d4ee30862a9f1e1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#ab63634d32cd96a8e8d4ee30862a9f1e1">pkt_waiting</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:ab63634d32cd96a8e8d4ee30862a9f1e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return number of packets waiting in queue. <br /></td></tr>
<tr class="separator:ab63634d32cd96a8e8d4ee30862a9f1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa241b03b790ebcfa240b6c6ff58da6fe"><td class="memItemLeft" align="right" valign="top"><a id="aa241b03b790ebcfa240b6c6ff58da6fe"></a>
DWORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#aa241b03b790ebcfa240b6c6ff58da6fe">pkt_dropped</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:aa241b03b790ebcfa240b6c6ff58da6fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return number of packets dropped. <br /></td></tr>
<tr class="separator:aa241b03b790ebcfa240b6c6ff58da6fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a714e46ca89d1a4267b332b8a13ef807b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a714e46ca89d1a4267b332b8a13ef807b">parse_config_pass_1</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:a714e46ca89d1a4267b332b8a13ef807b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search WATTCP.CFG file for "PKT.VECTOR = 0x??" etc.  <a href="#a714e46ca89d1a4267b332b8a13ef807b">More...</a><br /></td></tr>
<tr class="separator:a714e46ca89d1a4267b332b8a13ef807b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e49015b8a91c6612f51058a9bdad20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a94e49015b8a91c6612f51058a9bdad20">pkt_eth_init</a> (mac_address *addr)</td></tr>
<tr class="memdesc:a94e49015b8a91c6612f51058a9bdad20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise Packet driver interface.  <a href="#a94e49015b8a91c6612f51058a9bdad20">More...</a><br /></td></tr>
<tr class="separator:a94e49015b8a91c6612f51058a9bdad20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96fc61f9a8fbf0f45058ea140b2bdc0d"><td class="memItemLeft" align="right" valign="top"><a id="a96fc61f9a8fbf0f45058ea140b2bdc0d"></a>
static BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a96fc61f9a8fbf0f45058ea140b2bdc0d">check_intr_num</a> (WORD intr_num)</td></tr>
<tr class="memdesc:a96fc61f9a8fbf0f45058ea140b2bdc0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check a single interrupt vector for signature string "PKT DRVR" at offset 3 into intr-handler. <br /></td></tr>
<tr class="separator:a96fc61f9a8fbf0f45058ea140b2bdc0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad69ec3195ef42de15cced4dcec79b7fd"><td class="memItemLeft" align="right" valign="top"><a id="ad69ec3195ef42de15cced4dcec79b7fd"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_unlock</b> (const <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *addr, DWORD size)</td></tr>
<tr class="separator:ad69ec3195ef42de15cced4dcec79b7fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4076feff03c9080e83128f5c7d36e73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#af4076feff03c9080e83128f5c7d36e73">pkt_set_rcv_mode</a> (int mode)</td></tr>
<tr class="memdesc:af4076feff03c9080e83128f5c7d36e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the receive mode of the interface.  <a href="#af4076feff03c9080e83128f5c7d36e73">More...</a><br /></td></tr>
<tr class="separator:af4076feff03c9080e83128f5c7d36e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d2cfd06d22ddd0dc4981405c83614e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a50d2cfd06d22ddd0dc4981405c83614e">pkt_get_rcv_mode</a> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="memdesc:a50d2cfd06d22ddd0dc4981405c83614e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the receive mode of the interface (can never be mode 0).  <a href="#a50d2cfd06d22ddd0dc4981405c83614e">More...</a><br /></td></tr>
<tr class="separator:a50d2cfd06d22ddd0dc4981405c83614e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a869120bd9717cccf1033d1f6f944aedd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a869120bd9717cccf1033d1f6f944aedd">pkt_get_multicast_list</a> (mac_address *listbuf, int *lenp)</td></tr>
<tr class="memdesc:a869120bd9717cccf1033d1f6f944aedd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current list of multicast addresses from the PKTDRVR.  <a href="#a869120bd9717cccf1033d1f6f944aedd">More...</a><br /></td></tr>
<tr class="separator:a869120bd9717cccf1033d1f6f944aedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7003873d5d1b46fd6c1ee5f0ea0ba4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a7c7003873d5d1b46fd6c1ee5f0ea0ba4">pkt_set_multicast_list</a> (const <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *listbuf, int len)</td></tr>
<tr class="memdesc:a7c7003873d5d1b46fd6c1ee5f0ea0ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the list of multicast addresses for which the PKTDRVR is responsible.  <a href="#a7c7003873d5d1b46fd6c1ee5f0ea0ba4">More...</a><br /></td></tr>
<tr class="separator:a7c7003873d5d1b46fd6c1ee5f0ea0ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aee25962f403569aa43081d6621e048a6"><td class="memItemLeft" align="right" valign="top">WORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#aee25962f403569aa43081d6621e048a6">_pktdevclass</a> = PDCLASS_UNKNOWN</td></tr>
<tr class="memdesc:aee25962f403569aa43081d6621e048a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ethernet, Token, FDDI etc.  <a href="#aee25962f403569aa43081d6621e048a6">More...</a><br /></td></tr>
<tr class="separator:aee25962f403569aa43081d6621e048a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef3008ed8a710edebe44603f1357412"><td class="memItemLeft" align="right" valign="top"><a id="a7ef3008ed8a710edebe44603f1357412"></a>
WORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a7ef3008ed8a710edebe44603f1357412">_pkt_ip_ofs</a> = 0</td></tr>
<tr class="memdesc:a7ef3008ed8a710edebe44603f1357412"><td class="mdescLeft">&#160;</td><td class="mdescRight">ofs from link-layer head to ip <br /></td></tr>
<tr class="separator:a7ef3008ed8a710edebe44603f1357412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeec14160a93e04de87034f8499a3607"><td class="memItemLeft" align="right" valign="top"><a id="adeec14160a93e04de87034f8499a3607"></a>
WORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#adeec14160a93e04de87034f8499a3607">_pkt_type_ofs</a> = 0</td></tr>
<tr class="memdesc:adeec14160a93e04de87034f8499a3607"><td class="mdescLeft">&#160;</td><td class="mdescRight">ofs from link-layer head to type <br /></td></tr>
<tr class="separator:adeec14160a93e04de87034f8499a3607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a507e59e47e9eaecec5bba081e8f8a9cc"><td class="memItemLeft" align="right" valign="top"><a id="a507e59e47e9eaecec5bba081e8f8a9cc"></a>
BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a507e59e47e9eaecec5bba081e8f8a9cc">_pktserial</a> = FALSE</td></tr>
<tr class="memdesc:a507e59e47e9eaecec5bba081e8f8a9cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">using serial driver, SLIP/PPP <br /></td></tr>
<tr class="separator:a507e59e47e9eaecec5bba081e8f8a9cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1237c682215cdc14dc6293f4981ac541"><td class="memItemLeft" align="right" valign="top"><a id="a1237c682215cdc14dc6293f4981ac541"></a>
BYTE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a1237c682215cdc14dc6293f4981ac541">_pktdevlevel</a> = 1</td></tr>
<tr class="memdesc:a1237c682215cdc14dc6293f4981ac541"><td class="mdescLeft">&#160;</td><td class="mdescRight">basic unless otherwise specified <br /></td></tr>
<tr class="separator:a1237c682215cdc14dc6293f4981ac541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90663bd6cfd16dc10dc5d3ddec88e7dd"><td class="memItemLeft" align="right" valign="top"><a id="a90663bd6cfd16dc10dc5d3ddec88e7dd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a90663bd6cfd16dc10dc5d3ddec88e7dd">_pkt_rxmode</a> = <a class="el" href="winpkt_8h.html#a6dac98487231ac3628c020d74d5beb6ca6edb736ef7561aac1fef62b501a291eb">RXMODE_BROADCAST</a></td></tr>
<tr class="memdesc:a90663bd6cfd16dc10dc5d3ddec88e7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">active receive mode <br /></td></tr>
<tr class="separator:a90663bd6cfd16dc10dc5d3ddec88e7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42dac1b8f84c858f981cc9c2440437aa"><td class="memItemLeft" align="right" valign="top"><a id="a42dac1b8f84c858f981cc9c2440437aa"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a42dac1b8f84c858f981cc9c2440437aa">_pkt_rxmode0</a> = -1</td></tr>
<tr class="memdesc:a42dac1b8f84c858f981cc9c2440437aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">startup receive mode <br /></td></tr>
<tr class="separator:a42dac1b8f84c858f981cc9c2440437aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9df736aac1f165fa7478cd784526597e"><td class="memItemLeft" align="right" valign="top"><a id="a9df736aac1f165fa7478cd784526597e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a9df736aac1f165fa7478cd784526597e">_pkt_errno</a> = 0</td></tr>
<tr class="memdesc:a9df736aac1f165fa7478cd784526597e"><td class="mdescLeft">&#160;</td><td class="mdescRight">error code set in <a class="el" href="pcpkt_8c.html">pcpkt.c</a> API <br /></td></tr>
<tr class="separator:a9df736aac1f165fa7478cd784526597e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a4a2daf89c5afdc25531c84da0ba72"><td class="memItemLeft" align="right" valign="top"><a id="a55a4a2daf89c5afdc25531c84da0ba72"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a55a4a2daf89c5afdc25531c84da0ba72">pkt_error</a> = NULL</td></tr>
<tr class="memdesc:a55a4a2daf89c5afdc25531c84da0ba72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last pkt error string. <br /></td></tr>
<tr class="separator:a55a4a2daf89c5afdc25531c84da0ba72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaed6ae1e6dbcf1a908945f116826956"><td class="memItemLeft" align="right" valign="top"><a id="aaaed6ae1e6dbcf1a908945f116826956"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_pkt_forced_rxmode</b> = -1</td></tr>
<tr class="separator:aaaed6ae1e6dbcf1a908945f116826956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab78425a4e3b7edce2f013394fccd7628"><td class="memItemLeft" align="right" valign="top"><a id="ab78425a4e3b7edce2f013394fccd7628"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>_pktdrvrname</b> [20] = &quot;unknown&quot;</td></tr>
<tr class="separator:ab78425a4e3b7edce2f013394fccd7628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8cf2d0e6e216631ca578dd2ff0796d"><td class="memItemLeft" align="right" valign="top"><a id="a7a8cf2d0e6e216631ca578dd2ff0796d"></a>
struct <a class="el" href="structpkt__info.html">pkt_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a7a8cf2d0e6e216631ca578dd2ff0796d">_pkt_inf</a> = NULL</td></tr>
<tr class="memdesc:a7a8cf2d0e6e216631ca578dd2ff0796d"><td class="mdescLeft">&#160;</td><td class="mdescRight">module data that will be locked <br /></td></tr>
<tr class="separator:a7a8cf2d0e6e216631ca578dd2ff0796d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8a8f054278ca9a7e98c8b20852d755c"><td class="memItemLeft" align="right" valign="top"><a id="aa8a8f054278ca9a7e98c8b20852d755c"></a>
static char&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_sign</b> [] = &quot;PKT DRVR&quot;</td></tr>
<tr class="separator:aa8a8f054278ca9a7e98c8b20852d755c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b54b06b911f05fee057e3c89ee8520"><td class="memItemLeft" align="right" valign="top"><a id="a91b54b06b911f05fee057e3c89ee8520"></a>
static WORD&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_interrupt</b> = 0</td></tr>
<tr class="separator:a91b54b06b911f05fee057e3c89ee8520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b93b99c0ba94711d7cd11ab807b7f8"><td class="memItemLeft" align="right" valign="top"><a id="a21b93b99c0ba94711d7cd11ab807b7f8"></a>
static DWORD&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_drop_cnt</b> = 0</td></tr>
<tr class="separator:a21b93b99c0ba94711d7cd11ab807b7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bbf3a1774863d77bee77f2fa50486e0"><td class="memItemLeft" align="right" valign="top"><a id="a6bbf3a1774863d77bee77f2fa50486e0"></a>
static BYTE&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_txretries</b> = 2</td></tr>
<tr class="separator:a6bbf3a1774863d77bee77f2fa50486e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4814872d882a34826153d5342b6c302"><td class="memItemLeft" align="right" valign="top"><a id="aa4814872d882a34826153d5342b6c302"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_txwait</b> = 0</td></tr>
<tr class="separator:aa4814872d882a34826153d5342b6c302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b75c86bd641bab79f16f8c797531ccb"><td class="memItemLeft" align="right" valign="top"><a id="a6b75c86bd641bab79f16f8c797531ccb"></a>
static BOOL&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_use_near</b> = FALSE</td></tr>
<tr class="separator:a6b75c86bd641bab79f16f8c797531ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5f9ec0855b6de6d80c90bf6f6a95ed9"><td class="memItemLeft" align="right" valign="top"><a id="ae5f9ec0855b6de6d80c90bf6f6a95ed9"></a>
static BOOL&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_do_reset</b> = FALSE</td></tr>
<tr class="separator:ae5f9ec0855b6de6d80c90bf6f6a95ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4080aa1a1df9c0db1debff823d550a33"><td class="memItemLeft" align="right" valign="top"><a id="a4080aa1a1df9c0db1debff823d550a33"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_drvr_ver</b> = 0</td></tr>
<tr class="separator:a4080aa1a1df9c0db1debff823d550a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fe122fe3312e3b3c0f511821385c1b"><td class="memItemLeft" align="right" valign="top"><a id="a62fe122fe3312e3b3c0f511821385c1b"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_num_rx_bufs</b> = RX_BUFS</td></tr>
<tr class="separator:a62fe122fe3312e3b3c0f511821385c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e8dca470b70c6660281c6ef487a669"><td class="memItemLeft" align="right" valign="top"><a id="ad5e8dca470b70c6660281c6ef487a669"></a>
static struct <a class="el" href="struct_pkt_stats.html">PktStats</a>&#160;</td><td class="memItemRight" valign="bottom"><b>init_stats</b></td></tr>
<tr class="separator:ad5e8dca470b70c6660281c6ef487a669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe64dce07b8f4589c844b175c28af439"><td class="memItemLeft" align="right" valign="top"><a id="abe64dce07b8f4589c844b175c28af439"></a>
static struct <a class="el" href="struct_pkt_parameters.html">PktParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_params</b></td></tr>
<tr class="separator:abe64dce07b8f4589c844b175c28af439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73fe5a83400d18c661daa13082e8d99c"><td class="memItemLeft" align="right" valign="top"><a id="a73fe5a83400d18c661daa13082e8d99c"></a>
static BOOL&#160;</td><td class="memItemRight" valign="bottom"><b>got_params</b> = FALSE</td></tr>
<tr class="separator:a73fe5a83400d18c661daa13082e8d99c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e030b77b0479dcfbf88d0eb680a36e"><td class="memItemLeft" align="right" valign="top"><a id="a17e030b77b0479dcfbf88d0eb680a36e"></a>
REALPTR&#160;</td><td class="memItemRight" valign="bottom"><b>rm_base</b></td></tr>
<tr class="separator:a17e030b77b0479dcfbf88d0eb680a36e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba21d034fea5c9d73835bb5c1a049083"><td class="memItemLeft" align="right" valign="top"><a id="aba21d034fea5c9d73835bb5c1a049083"></a>
static _go32_dpmi_seginfo&#160;</td><td class="memItemRight" valign="bottom"><b>rm_cb</b></td></tr>
<tr class="separator:aba21d034fea5c9d73835bb5c1a049083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e19c1ac73ff8d793bafe87f9b90cd8a"><td class="memItemLeft" align="right" valign="top"><a id="a1e19c1ac73ff8d793bafe87f9b90cd8a"></a>
static WORD&#160;</td><td class="memItemRight" valign="bottom"><b>pkt_inf_sel</b></td></tr>
<tr class="separator:a1e19c1ac73ff8d793bafe87f9b90cd8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed088663f8704004425cdae2120b9b3"><td class="memItemLeft" align="right" valign="top"><a id="afed088663f8704004425cdae2120b9b3"></a>
WORD&#160;</td><td class="memItemRight" valign="bottom"><b>len</b></td></tr>
<tr class="separator:afed088663f8704004425cdae2120b9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d0e9cba298143db74bd4e4fddfbdb21"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> WORD&#160;</td><td class="memItemRight" valign="bottom"><b>rxLen</b></td></tr>
<tr class="separator:a3d0e9cba298143db74bd4e4fddfbdb21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6784e1c334dfceb8f017667c0b0f6a3e"><td class="memItemLeft" align="right" valign="top"><a id="a6784e1c334dfceb8f017667c0b0f6a3e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>index</b> = q-&gt;in_index + 1</td></tr>
<tr class="separator:a6784e1c334dfceb8f017667c0b0f6a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d733ceeb25887bd969966613f8bb00"><td class="memItemLeft" align="right" valign="top"><a id="a30d733ceeb25887bd969966613f8bb00"></a>
else q&#160;</td><td class="memItemRight" valign="bottom"><b>num_drop</b></td></tr>
<tr class="separator:a30d733ceeb25887bd969966613f8bb00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f2af3c5fe03dc05a1370c8ddf87db9c"><td class="memItemLeft" align="right" valign="top">static WORD&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pcpkt_8c.html#a0f2af3c5fe03dc05a1370c8ddf87db9c">cstate_dseg</a> = 0</td></tr>
<tr class="memdesc:a0f2af3c5fe03dc05a1370c8ddf87db9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get VJ-compression statistics from pkt-driver.  <a href="#a0f2af3c5fe03dc05a1370c8ddf87db9c">More...</a><br /></td></tr>
<tr class="separator:a0f2af3c5fe03dc05a1370c8ddf87db9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Packet Driver interface for WatTCP/Watt-32.</p>
<p>Heavily modified and extended for DOSX by G.Vanem <a href="#" onclick="location.href='mai'+'lto:'+'gva'+'ne'+'m@y'+'ah'+'oo.'+'no'; return false;">gvane<span style="display: none;">.nosp@m.</span>m@ya<span style="display: none;">.nosp@m.</span>hoo.n<span style="display: none;">.nosp@m.</span>o</a> </p>

<p class="definition">Definition in file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a714e46ca89d1a4267b332b8a13ef807b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a714e46ca89d1a4267b332b8a13ef807b">&#9670;&nbsp;</a></span>parse_config_pass_1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int parse_config_pass_1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search WATTCP.CFG file for "PKT.VECTOR = 0x??" etc. </p>
<p>Accept "0x20 - 0xFF". </p>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01409">1409</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

<p class="reference">References <a class="el" href="tcp_8h_source.html#l00428">ARG_ATOB</a>, and <a class="el" href="tcp_8h_source.html#l00431">ARG_ATOX_B</a>.</p>

</div>
</div>
<a id="a027ed4917a199fbe8798c45ab4459c44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027ed4917a199fbe8798c45ab4459c44">&#9670;&nbsp;</a></span>pkt16_drvr_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pkt16_drvr_init </td>
          <td>(</td>
          <td class="paramtype">mac_address *&#160;</td>
          <td class="paramname"><em>mac_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called from <a class="el" href="pcpkt_8c.html#a94e49015b8a91c6612f51058a9bdad20" title="Initialise Packet driver interface. ">pkt_eth_init()</a> to search for PKTDRVR. </p>
<ul>
<li>Checks register struct size (for non-DOSX targets).</li>
<li>Searches for the PKTDRVR interrupt.</li>
<li>Allocates '_pkt_inf' structure.</li>
<li>Sets up a real-mode callback and lock code/data (DOSX targets).</li>
<li>Fetches PKTDRVR information.</li>
<li>Sets up driver to call our real-mode callback.</li>
<li>Fetches local MAC address.</li>
<li>Fetches parameters and initialise statistics. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00577">577</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="ad635d7372ef69250f6dc7791030791ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad635d7372ef69250f6dc7791030791ec">&#9670;&nbsp;</a></span>pkt_api_entry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static BOOL pkt_api_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_r_e_g_s.html">IREGS</a> *&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The API entry to the network link-driver. </p>
<p>Use either protected mode interface via a call to dynamically loaded module (not yet) or issue an interrupt for the real-mode PKTDRVR.</p>
<p>Returns TRUE if CARRY is clear, otherwise set '_pkt_errno' from DH register and return FALSE. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000079">Todo:</a></b></dt><dd>Use 32-bit API; accessing card via pmode driver </dd></dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01897">1897</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a89063c5ce622c72fa04ad97445ae2e47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89063c5ce622c72fa04ad97445ae2e47">&#9670;&nbsp;</a></span>pkt_drvr_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pkt_drvr_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch the PKTDRVR information. </p>
<p>Device level, class and name. </p>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00381">381</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

<p class="reference">References <a class="el" href="pcpkt_8c_source.html#l00049">_pkt_ip_ofs</a>, and <a class="el" href="pcpkt_8c_source.html#l00048">_pktdevclass</a>.</p>

</div>
</div>
<a id="a87c91cdcff38f150988c22ba66ebb573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c91cdcff38f150988c22ba66ebb573">&#9670;&nbsp;</a></span>pkt_enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> pkt_enqueue </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>rxBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">WORD&#160;</td>
          <td class="paramname"><em>rxLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enqueue a received packet into '_pkt_inf-&gt;pkt_queue'. </p>
<p>This routine is called from pkt_receiver_rm/_pm(). The packet has been copied to rx_buffer (in DOS memory) by the packet-driver. We now must copy it to correct queue. Interrupts are disabled on entry.</p>
<p>Note 1: For real-mode targets SS and SP have been setup to a small work stack in asmpkt.asm (SS = CS). The stack can only take 64 pushes, hence use few local variables here.</p>
<p>Note 2: The C-compiler must be told NOT to use register calling for this routine (MUST use __cdecl) because it's called from asmpkt.asm via `pkt_enque_ptr' function pointer.</p>
<p>Note 3: Watcom/DOS4GW targets doesn't use real-&gt;prot mode upcall (RMCB), but does the following in asmpkt4.asm instead.</p>
<p>Note 4: For DOSX targets, all code from <a class="el" href="pcpkt_8c.html#a87c91cdcff38f150988c22ba66ebb573" title="Enqueue a received packet into &#39;_pkt_inf-&gt;pkt_queue&#39;. ">pkt_enqueue()</a> down to _pkt_end() must be locked in memory.</p>
<p>HACK: For real-mode targets this routine is called via the `pkt_enque_ptr' function pointer. This was the only way I could avoid a fixup error for small-model programs. </p>

</div>
</div>
<a id="a94e49015b8a91c6612f51058a9bdad20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94e49015b8a91c6612f51058a9bdad20">&#9670;&nbsp;</a></span>pkt_eth_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_eth_init </td>
          <td>(</td>
          <td class="paramtype">mac_address *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise Packet driver interface. </p>
<p>First determine vector to use; if WATTCP.CFG specifies a "PKT.VECTOR = 0xNN", use that vector, else search for PKTDRVR between PKT_FIRST_VEC and PKT_LAST_VEC (0x60 - 0x80). If the driver is outside this range, user must specify one with "PKT.VECTOR = 0x??".</p>
<p>If DOSX, probe and initialise protected-mode driver (not operational). Call <a class="el" href="pcpkt_8c.html#a027ed4917a199fbe8798c45ab4459c44" title="Called from pkt_eth_init() to search for PKTDRVR. ">pkt16_drvr_init()</a> to initialise API. </p>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01448">1448</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a66e84613a10a08dba2a17a27332685ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e84613a10a08dba2a17a27332685ca">&#9670;&nbsp;</a></span>pkt_free_pkt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> pkt_free_pkt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *&#160;</td>
          <td class="paramname"><em>pkt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a packet from the receive queue. </p>
<p>If USE_FAST_PKT, pkt has already been free'd. Just update drop count. </p>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01348">1348</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a4876f52cbab01e6bcc22968d6dee4102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4876f52cbab01e6bcc22968d6dee4102">&#9670;&nbsp;</a></span>pkt_get_api_ver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_get_api_ver </td>
          <td>(</td>
          <td class="paramtype">WORD *&#160;</td>
          <td class="paramname"><em>ver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return version of spec. </p>
<p>this PKTDRVR conforms to. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>on error. Return major version in upper 8 bit, minor in lower. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00518">518</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="ac34e15b262a2bda8bb3586b3dd6be692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac34e15b262a2bda8bb3586b3dd6be692">&#9670;&nbsp;</a></span>pkt_get_mac_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_get_mac_len </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return length of MAC address. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">6</td><td>For Ethernet. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00503">503</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

<p class="reference">References <a class="el" href="pcpkt_8c_source.html#l00048">_pktdevclass</a>.</p>

</div>
</div>
<a id="a4fdbc251383a566d31a5df2641acd7fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fdbc251383a566d31a5df2641acd7fa">&#9670;&nbsp;</a></span>pkt_get_mtu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_get_mtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return PKTDRVR maximum-transmit-units (MTU). </p>
<dl class="section note"><dt>Note</dt><dd>This includes length of MAC-header. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00488">488</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a869120bd9717cccf1033d1f6f944aedd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a869120bd9717cccf1033d1f6f944aedd">&#9670;&nbsp;</a></span>pkt_get_multicast_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_get_multicast_list </td>
          <td>(</td>
          <td class="paramtype">mac_address *&#160;</td>
          <td class="paramname"><em>listbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current list of multicast addresses from the PKTDRVR. </p>
<ul>
<li>listbuf is the buffer into which the list is placed </li>
<li>len on input: length of listbuf on output: length of list returned</li>
</ul>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>upon error - _pkt_errno is set </td></tr>
    <tr><td class="paramname">1</td><td>if retrieval was successful, </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l02037">2037</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a50d2cfd06d22ddd0dc4981405c83614e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50d2cfd06d22ddd0dc4981405c83614e">&#9670;&nbsp;</a></span>pkt_get_rcv_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_get_rcv_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the receive mode of the interface (can never be mode 0). </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">!0</td><td>Okay - _pkt_errno is 0, _pkt_rxmode and retval is current mode. </td></tr>
    <tr><td class="paramname">0</td><td>Error - _pkt_errno is set.</td></tr>
  </table>
  </dd>
</dl>
<p>_pkt_rxmode is one of the following modes: (upon successful return)</p><ul>
<li>1 - turn off receiver</li>
<li>2 - receive only packets sent to this interface</li>
<li>3 - mode 2 plus broadcast packets (default)</li>
<li>4 - mode 3 plus limited multicast packets</li>
<li>5 - mode 3 plus all multicast packets</li>
<li>6 - all packets (a.k.a promiscuous mode) </li>
</ul>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01999">1999</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="aa56767d6d21cbc623466124ebf687dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa56767d6d21cbc623466124ebf687dcf">&#9670;&nbsp;</a></span>pkt_get_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_get_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_pkt_stats.html">PktStats</a> *&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_pkt_stats.html">PktStats</a> *&#160;</td>
          <td class="paramname"><em>total</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get PKTDRVR statistics. </p>
<p>Return both 'stats' for current session and 'total' statistics since driver loaded. </p>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01242">1242</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a7cd0ecaa4212228407bb1df603cf0a2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd0ecaa4212228407bb1df603cf0a2c">&#9670;&nbsp;</a></span>pkt_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DTOR pkt_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000076">Todo:</a></b></dt><dd>We might be called between 1st and 2nd packet-driver upcall. Need to wait for 2nd upcall to finish or else freeing the RMCB too early could cause a crash or a stuck PKTDRVR. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00837">837</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="aeee3a74c34a638cd37f598e432e1bb50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee3a74c34a638cd37f598e432e1bb50">&#9670;&nbsp;</a></span>pkt_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *&#160;</td>
          <td class="paramname"><em>tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a link-layer frame. </p>
<p>For PPP/SLIP 'tx' contains no MAC-header. For EtherNet, Token-Ring, ARCNET and FDDI, 'tx' contains the complete frame.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000077">Todo:</a></b></dt><dd>Change this so that we doesn't retry if the driver was stuck for "too long". I've seen drivers using approx. 100 msec on each iteration below. Retrying if the driver is stuck is not worth the time. </dd></dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01089">1089</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a32ea86d10eed43822e1b30e54abad211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32ea86d10eed43822e1b30e54abad211">&#9670;&nbsp;</a></span>pkt_set_access()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int pkt_set_access </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup the receiver upcall handler. </p>
<p>The handler is called for all packets matching current receive mode. In mode 3 all broadcast and directed packets. </p>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00331">331</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

<p class="reference">References <a class="el" href="pcpkt_8c_source.html#l00048">_pktdevclass</a>.</p>

</div>
</div>
<a id="a7c7003873d5d1b46fd6c1ee5f0ea0ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c7003873d5d1b46fd6c1ee5f0ea0ba4">&#9670;&nbsp;</a></span>pkt_set_multicast_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_set_multicast_list </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> *&#160;</td>
          <td class="paramname"><em>listbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the list of multicast addresses for which the PKTDRVR is responsible. </p>
<ul>
<li>listbuf is the buffer containing the list </li>
<li>len is the length of listbuf</li>
</ul>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>upon error - _pkt_errno is set </td></tr>
    <tr><td class="paramname">1</td><td>if set was successful </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l02084">2084</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="af4076feff03c9080e83128f5c7d36e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4076feff03c9080e83128f5c7d36e73">&#9670;&nbsp;</a></span>pkt_set_rcv_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pkt_set_rcv_mode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the receive mode of the interface. </p>
<p>mode is one of the following modes:</p><ul>
<li>1 - turn off receiver</li>
<li>2 - receive only packets sent to this interface</li>
<li>3 - mode 2 plus broadcast packets (default)</li>
<li>4 - mode 3 plus limited multicast packets</li>
<li>5 - mode 3 plus all multicast packets</li>
<li>6 - all packets (AKA promiscuous mode)</li>
</ul>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>- upon error - _pkt_errno is set </td></tr>
    <tr><td class="paramname">1</td><td>- if the mode was set successfully </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01955">1955</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a7db5269ae1084637b03271f847f53e0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7db5269ae1084637b03271f847f53e0b">&#9670;&nbsp;</a></span>pkt_tx_buf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> * pkt_tx_buf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return address of DOS memory Tx-buffer. </p>
<p>For DOS4GW/X32VM (and djgpp with near-ptrs) targets, return near address of transmit buffer located in DOS memory. </p>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00302">302</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="af9bd7fa7e6b9f7b772b205a8e6dce96b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9bd7fa7e6b9f7b772b205a8e6dce96b">&#9670;&nbsp;</a></span>setup_pkt_inf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int setup_pkt_inf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000078">Todo:</a></b></dt><dd>Make dynamic allocation based on 'pkt_num_rx_bufs'. Allocate multiple 64kB blocks if needed (would involve messy 16-bit coding in asmpkt.nas). </dd></dl>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01803">1803</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aee25962f403569aa43081d6621e048a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee25962f403569aa43081d6621e048a6">&#9670;&nbsp;</a></span>_pktdevclass</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WORD _pktdevclass = PDCLASS_UNKNOWN</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ethernet, Token, FDDI etc. </p>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00048">48</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a0f2af3c5fe03dc05a1370c8ddf87db9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f2af3c5fe03dc05a1370c8ddf87db9c">&#9670;&nbsp;</a></span>cstate_dseg</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WORD cstate_dseg = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get VJ-compression statistics from pkt-driver. </p>
<p>Only DOS-PPP ver 0.6+ supports the PD_GET_VJSTATS (0x81) call. </p>

<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l01296">1296</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
<a id="a3d0e9cba298143db74bd4e4fddfbdb21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d0e9cba298143db74bd4e4fddfbdb21">&#9670;&nbsp;</a></span>rxLen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> WORD rxLen</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">  <span class="keyword">struct </span><a class="code" href="structpkt__ringbuf.html">pkt_ringbuf</a> *q = &amp;<a class="code" href="pcpkt_8c.html#a7a8cf2d0e6e216631ca578dd2ff0796d">_pkt_inf</a>-&gt;pkt_queue</div><div class="ttc" id="structpkt__ringbuf_html"><div class="ttname"><a href="structpkt__ringbuf.html">pkt_ringbuf</a></div><div class="ttdef"><b>Definition:</b> <a href="pcqueue_8h_source.html#l00080">pcqueue.h:80</a></div></div>
<div class="ttc" id="pcpkt_8c_html_a7a8cf2d0e6e216631ca578dd2ff0796d"><div class="ttname"><a href="pcpkt_8c.html#a7a8cf2d0e6e216631ca578dd2ff0796d">_pkt_inf</a></div><div class="ttdeci">struct pkt_info * _pkt_inf</div><div class="ttdoc">module data that will be locked </div><div class="ttdef"><b>Definition:</b> <a href="pcpkt_8c_source.html#l00061">pcpkt.c:61</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="pcpkt_8c_source.html#l00919">919</a> of file <a class="el" href="pcpkt_8c_source.html">pcpkt.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_43e0a1f539e00dcfa1a6bc4d4fee4fc2.html">home</a></li><li class="navelem"><a class="el" href="dir_ab8596c82667c0aca9997b52c5dbee43.html">fosco</a></li><li class="navelem"><a class="el" href="dir_080421ebeac7d91b01d16c10e3428daa.html">src</a></li><li class="navelem"><a class="el" href="dir_6df265bdd26cb50194bab3fa12ccd5e5.html">SSH2DOS</a></li><li class="navelem"><a class="el" href="dir_b1c9b88edcbbea5952d2cf10cb584ddc.html">watt32</a></li><li class="navelem"><a class="el" href="dir_7ffa6a371f53fb7b9b5c8573af96f924.html">src</a></li><li class="navelem"><a class="el" href="pcpkt_8c.html">pcpkt.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
