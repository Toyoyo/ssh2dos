<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Watt-32 tcp/ip: /home/fosco/src/SSH2DOS/watt32/src/syslog.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Watt-32 tcp/ip
   &#160;<span id="projectnumber">2.2 dev-rel.10</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('syslog_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">syslog.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="syslog_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae80e8e334d2ef7196aa8146942dc71a7"><td class="memItemLeft" align="right" valign="top"><a id="ae80e8e334d2ef7196aa8146942dc71a7"></a>
<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> W32_CDECL&#160;</td><td class="memItemRight" valign="bottom"><b>syslog</b> (int pri, const char *fmt,...)</td></tr>
<tr class="separator:ae80e8e334d2ef7196aa8146942dc71a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160a3587aa2941ae5a423b4f86ef2abe"><td class="memItemLeft" align="right" valign="top"><a id="a160a3587aa2941ae5a423b4f86ef2abe"></a>
<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><b>vsyslog</b> (int pri, const char *fmt, va_list ap)</td></tr>
<tr class="separator:a160a3587aa2941ae5a423b4f86ef2abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d6c8358691bfa6ab90ea767c742d6b"><td class="memItemLeft" align="right" valign="top"><a id="ad5d6c8358691bfa6ab90ea767c742d6b"></a>
static const char *&#160;</td><td class="memItemRight" valign="bottom"><b>getlogname</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:ad5d6c8358691bfa6ab90ea767c742d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f45ab0a520294e6cb34d54c8d53414"><td class="memItemLeft" align="right" valign="top"><a id="ae1f45ab0a520294e6cb34d54c8d53414"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>openloghost</b> (char **errbuf)</td></tr>
<tr class="separator:ae1f45ab0a520294e6cb34d54c8d53414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297d860f5f41b7abd4b760feef7d1d91"><td class="memItemLeft" align="right" valign="top"><a id="a297d860f5f41b7abd4b760feef7d1d91"></a>
static <a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><b>_closelog</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:a297d860f5f41b7abd4b760feef7d1d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad97c9818a22dfb3538da02e15255c2af"><td class="memItemLeft" align="right" valign="top"><a id="ad97c9818a22dfb3538da02e15255c2af"></a>
<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><b>openlog</b> (const char *ident, int logstat, int logfac)</td></tr>
<tr class="separator:ad97c9818a22dfb3538da02e15255c2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d9b69e69b9ac7616005f0c00a9371c"><td class="memItemLeft" align="right" valign="top"><a id="ac4d9b69e69b9ac7616005f0c00a9371c"></a>
int W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><b>setlogmask</b> (int new_mask)</td></tr>
<tr class="separator:ac4d9b69e69b9ac7616005f0c00a9371c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fc093131b5c65065779cf7e42374ef2"><td class="memItemLeft" align="right" valign="top"><a id="a2fc093131b5c65065779cf7e42374ef2"></a>
char *W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><b>setlogtag</b> (char *new_tag)</td></tr>
<tr class="separator:a2fc093131b5c65065779cf7e42374ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9a3dcb56cc8cbfbe8dc0c70a784fcad"><td class="memItemLeft" align="right" valign="top"><a id="ad9a3dcb56cc8cbfbe8dc0c70a784fcad"></a>
<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a> W32_CALL&#160;</td><td class="memItemRight" valign="bottom"><b>closelog</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:ad9a3dcb56cc8cbfbe8dc0c70a784fcad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top"><a id="a840291bc02cba5474a4cb46a9b9566fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (<a class="el" href="tcp_8h.html#ac1f7eba6bc7e9c6de5782062335462e6">void</a>)</td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afb38e1577354b75d11afc0224cf8465f"><td class="memItemLeft" align="right" valign="top"><a id="afb38e1577354b75d11afc0224cf8465f"></a>
static <a class="el" href="unionsock__type.html">sock_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>log_sock</b> = NULL</td></tr>
<tr class="separator:afb38e1577354b75d11afc0224cf8465f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab936051f5aaca44c6c3c41dee0d19c36"><td class="memItemLeft" align="right" valign="top"><a id="ab936051f5aaca44c6c3c41dee0d19c36"></a>
static FILE *&#160;</td><td class="memItemRight" valign="bottom"><b>log_file</b> = NULL</td></tr>
<tr class="separator:ab936051f5aaca44c6c3c41dee0d19c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ba38c580e161419fe9bf810e277e2af"><td class="memItemLeft" align="right" valign="top"><a id="a6ba38c580e161419fe9bf810e277e2af"></a>
static DWORD&#160;</td><td class="memItemRight" valign="bottom"><b>log_host</b> = 0UL</td></tr>
<tr class="separator:a6ba38c580e161419fe9bf810e277e2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c0db57d3152cc2d65264956dcada59"><td class="memItemLeft" align="right" valign="top"><a id="a98c0db57d3152cc2d65264956dcada59"></a>
static BOOL&#160;</td><td class="memItemRight" valign="bottom"><b>log_opened</b> = FALSE</td></tr>
<tr class="separator:a98c0db57d3152cc2d65264956dcada59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289d30e2a4af50297f15949f926943cf"><td class="memItemLeft" align="right" valign="top"><a id="a289d30e2a4af50297f15949f926943cf"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>log_stat</b> = 0</td></tr>
<tr class="separator:a289d30e2a4af50297f15949f926943cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c1cf2b680d4ec569e0cab0b74d8f2f"><td class="memItemLeft" align="right" valign="top"><a id="a34c1cf2b680d4ec569e0cab0b74d8f2f"></a>
static char *&#160;</td><td class="memItemRight" valign="bottom"><b>log_tag</b> = NULL</td></tr>
<tr class="separator:a34c1cf2b680d4ec569e0cab0b74d8f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac695d621aaa836a9d13d65a912be9518"><td class="memItemLeft" align="right" valign="top"><a id="ac695d621aaa836a9d13d65a912be9518"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>log_mask</b> = LOG_INFO</td></tr>
<tr class="separator:ac695d621aaa836a9d13d65a912be9518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae296faad80279f549f2375ba2a6cb179"><td class="memItemLeft" align="right" valign="top"><a id="ae296faad80279f549f2375ba2a6cb179"></a>
static DWORD&#160;</td><td class="memItemRight" valign="bottom"><b>log_facil</b> = LOG_USER</td></tr>
<tr class="separator:ae296faad80279f549f2375ba2a6cb179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50cc67fec897f9186f2f754cd049f05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__code.html">CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><b>prioritynames</b> []</td></tr>
<tr class="separator:ae50cc67fec897f9186f2f754cd049f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf131fd44746a8585f449da3c2e4ce7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct__code.html">CODE</a>&#160;</td><td class="memItemRight" valign="bottom"><b>facilitynames</b> []</td></tr>
<tr class="separator:a2bf131fd44746a8585f449da3c2e4ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple syslog handler for Watt-32.</p>
<p>Loosely based on BSD-version. by Gisle Vanem <a href="#" onclick="location.href='mai'+'lto:'+'gva'+'ne'+'m@y'+'ah'+'oo.'+'no'; return false;">gvane<span style="display: none;">.nosp@m.</span>m@ya<span style="display: none;">.nosp@m.</span>hoo.n<span style="display: none;">.nosp@m.</span>o</a> Jun-99</p>
<p>This module really belongs to the application layer, but is included in Watt-32 for convenience.</p>
<dl class="section note"><dt>Note</dt><dd>syslog_init() must be called in <a class="el" href="sock__ini_8c.html#ad07fd2012bb92d1421885ac94cc9e9f5">watt_sock_init()</a> (or prior to that). openlog() and syslog() cannot be used before <a class="el" href="sock__ini_8c.html#ad07fd2012bb92d1421885ac94cc9e9f5">watt_sock_init()</a> is called.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000136">Todo:</a></b></dt><dd>configure variables in <a class="el" href="syslog2_8c.html">syslog2.c</a> when calling openlog() thus making syslog() independent of <a class="el" href="sock__ini_8c.html#ad07fd2012bb92d1421885ac94cc9e9f5">watt_sock_init()</a>. </dd></dl>

<p class="definition">Definition in file <a class="el" href="syslog_8c_source.html">syslog.c</a>.</p>
</div><h2 class="groupheader">Variable Documentation</h2>
<a id="a2bf131fd44746a8585f449da3c2e4ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf131fd44746a8585f449da3c2e4ce7">&#9670;&nbsp;</a></span>facilitynames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__code.html">CODE</a> facilitynames[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { LOG_AUTH,      <span class="stringliteral">&quot;auth&quot;</span>     },</div><div class="line">        { LOG_AUTHPRIV,  <span class="stringliteral">&quot;authpriv&quot;</span> },</div><div class="line">        { LOG_CRON,      <span class="stringliteral">&quot;cron&quot;</span>     },</div><div class="line">        { LOG_DAEMON,    <span class="stringliteral">&quot;daemon&quot;</span>   },</div><div class="line">        { LOG_FTP,       <span class="stringliteral">&quot;ftp&quot;</span>      },</div><div class="line">        { LOG_KERN,      <span class="stringliteral">&quot;kern&quot;</span>     },</div><div class="line">        { LOG_LPR,       <span class="stringliteral">&quot;lpr&quot;</span>      },</div><div class="line">        { LOG_MAIL,      <span class="stringliteral">&quot;mail&quot;</span>     },</div><div class="line">        { INTERNAL_MARK, <span class="stringliteral">&quot;mark&quot;</span>     },      </div><div class="line">        { LOG_NEWS,      <span class="stringliteral">&quot;news&quot;</span>     },</div><div class="line">        { LOG_NTP,       <span class="stringliteral">&quot;ntp&quot;</span>      },</div><div class="line">        { LOG_AUTH,      <span class="stringliteral">&quot;security&quot;</span> },      </div><div class="line">        { LOG_SYSLOG,    <span class="stringliteral">&quot;syslog&quot;</span>   },</div><div class="line">        { LOG_USER,      <span class="stringliteral">&quot;user&quot;</span>     },</div><div class="line">        { LOG_UUCP,      <span class="stringliteral">&quot;uucp&quot;</span>     },</div><div class="line">        { LOG_LOCAL0,    <span class="stringliteral">&quot;local0&quot;</span>   },</div><div class="line">        { LOG_LOCAL1,    <span class="stringliteral">&quot;local1&quot;</span>   },</div><div class="line">        { LOG_LOCAL2,    <span class="stringliteral">&quot;local2&quot;</span>   },</div><div class="line">        { LOG_LOCAL3,    <span class="stringliteral">&quot;local3&quot;</span>   },</div><div class="line">        { LOG_LOCAL4,    <span class="stringliteral">&quot;local4&quot;</span>   },</div><div class="line">        { LOG_LOCAL5,    <span class="stringliteral">&quot;local5&quot;</span>   },</div><div class="line">        { LOG_LOCAL6,    <span class="stringliteral">&quot;local6&quot;</span>   },</div><div class="line">        { LOG_LOCAL7,    <span class="stringliteral">&quot;local7&quot;</span>   },</div><div class="line">        { -1,            NULL       }</div><div class="line">      }</div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="syslog_8c_source.html#l00084">84</a> of file <a class="el" href="syslog_8c_source.html">syslog.c</a>.</p>

</div>
</div>
<a id="ae50cc67fec897f9186f2f754cd049f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae50cc67fec897f9186f2f754cd049f05">&#9670;&nbsp;</a></span>prioritynames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__code.html">CODE</a> prioritynames[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">        { LOG_ALERT,      <span class="stringliteral">&quot;alert&quot;</span>   },</div><div class="line">        { LOG_CRIT,       <span class="stringliteral">&quot;crit&quot;</span>    },</div><div class="line">        { LOG_DEBUG,      <span class="stringliteral">&quot;debug&quot;</span>   },</div><div class="line">        { LOG_EMERG,      <span class="stringliteral">&quot;emerg&quot;</span>   },</div><div class="line">        { LOG_ERR,        <span class="stringliteral">&quot;err&quot;</span>     },</div><div class="line">        { LOG_ERR,        <span class="stringliteral">&quot;error&quot;</span>   },      </div><div class="line">        { LOG_INFO,       <span class="stringliteral">&quot;info&quot;</span>    },</div><div class="line">        { INTERNAL_NOPRI, <span class="stringliteral">&quot;none&quot;</span>    },      </div><div class="line">        { LOG_NOTICE,     <span class="stringliteral">&quot;notice&quot;</span>  },</div><div class="line">        { LOG_EMERG,      <span class="stringliteral">&quot;panic&quot;</span>   },      </div><div class="line">        { LOG_WARNING,    <span class="stringliteral">&quot;warn&quot;</span>    },      </div><div class="line">        { LOG_WARNING,    <span class="stringliteral">&quot;warning&quot;</span> },</div><div class="line">        { -1,             NULL      }</div><div class="line">      }</div></div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="syslog_8c_source.html#l00068">68</a> of file <a class="el" href="syslog_8c_source.html">syslog.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_43e0a1f539e00dcfa1a6bc4d4fee4fc2.html">home</a></li><li class="navelem"><a class="el" href="dir_ab8596c82667c0aca9997b52c5dbee43.html">fosco</a></li><li class="navelem"><a class="el" href="dir_080421ebeac7d91b01d16c10e3428daa.html">src</a></li><li class="navelem"><a class="el" href="dir_6df265bdd26cb50194bab3fa12ccd5e5.html">SSH2DOS</a></li><li class="navelem"><a class="el" href="dir_b1c9b88edcbbea5952d2cf10cb584ddc.html">watt32</a></li><li class="navelem"><a class="el" href="dir_7ffa6a371f53fb7b9b5c8573af96f924.html">src</a></li><li class="navelem"><a class="el" href="syslog_8c.html">syslog.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
